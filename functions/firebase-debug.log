[debug] [2025-04-01T10:14:21.697Z] ----------------------------------------------------------------------
[debug] [2025-04-01T10:14:21.698Z] Command:       /Users/macbookm3pro/.nvm/versions/node/v20.19.0/bin/node /opt/homebrew/bin/firebase deploy
[debug] [2025-04-01T10:14:21.698Z] CLI Version:   14.0.1
[debug] [2025-04-01T10:14:21.699Z] Platform:      darwin
[debug] [2025-04-01T10:14:21.699Z] Node Version:  v20.19.0
[debug] [2025-04-01T10:14:21.699Z] Time:          Tue Apr 01 2025 12:14:21 GMT+0200 (Central European Summer Time)
[debug] [2025-04-01T10:14:21.699Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-04-01T10:14:21.779Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-01T10:14:21.779Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-04-01T10:14:21.779Z] [iam] checking project core-app-423c7 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2025-04-01T10:14:21.780Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:21.780Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:21.780Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-04-01T10:14:21.780Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:21.780Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-04-01T10:14:22.550Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-04-01T10:14:22.550Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasedatabase.instances.update","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2025-04-01T10:14:22.551Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:22.551Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:22.551Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-04-01T10:14:22.551Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-01T10:14:23.316Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-04-01T10:14:23.317Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/core-app-423c7/serviceAccounts/core-app-423c7@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-04-01T10:14:23.317Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:23.318Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:23.318Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-04-01T10:14:23.653Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-04-01T10:14:23.653Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_75f291bd-e086-4df0-9eea-5851d1aa0c92"}
[debug] [2025-04-01T10:14:23.654Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:23.654Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:23.654Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 [none]
[debug] [2025-04-01T10:14:23.883Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 200
[debug] [2025-04-01T10:14:23.883Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7 {"projectId":"core-app-423c7","projectNumber":"869167769685","displayName":"core-app","name":"projects/core-app-423c7","resources":{"hostingSite":"core-app-423c7","realtimeDatabaseInstance":"core-app-423c7-default-rtdb"},"state":"ACTIVE","etag":"1_75f291bd-e086-4df0-9eea-5851d1aa0c92"}
[info] 
[info] === Deploying to 'core-app-423c7'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[info] i  database: checking rules syntax... 
[debug] [2025-04-01T10:14:26.908Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:26.908Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:26.908Z] >>> [apiv2][query] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb [none]
[debug] [2025-04-01T10:14:27.788Z] <<< [apiv2][status] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb 200
[debug] [2025-04-01T10:14:27.788Z] <<< [apiv2][body] GET https://firebasedatabase.googleapis.com/v1beta/projects/core-app-423c7/locations/-/instances/core-app-423c7-default-rtdb {"name":"projects/869167769685/locations/europe-west1/instances/core-app-423c7-default-rtdb","project":"projects/869167769685","databaseUrl":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","type":"DEFAULT_DATABASE","state":"ACTIVE"}
[debug] [2025-04-01T10:14:27.789Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:27.789Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:27.790Z] >>> [apiv2][query] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json dryRun=true
[debug] [2025-04-01T10:14:27.790Z] >>> [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json "{\n  \"rules\": {\n    \".read\": \"auth != null\",\n    \".write\": \"auth != null\",\n    \"test\": {\n      \".read\": true,\n      \".write\": true\n    },\n    \"drivers\": {\n      \".read\": \"auth != null\",\n      \".write\": \"auth != null\",\n      \"$driverId\": {\n        \".validate\": \"newData.hasChild('location') && newData.hasChild('lastActive')\",\n        \"location\": {\n          \".validate\": \"newData.hasChildren(['latitude', 'longitude', 'accuracy', 'timestamp', 'driverName'])\"\n        },\n        \"lastActive\": {\n          \".validate\": \"newData.isNumber()\"\n        }\n      }\n    }\n  }\n} "
[debug] [2025-04-01T10:14:27.884Z] <<< [apiv2][status] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json 200
[debug] [2025-04-01T10:14:27.884Z] <<< [apiv2][body] PUT https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app/.settings/rules.json {"status":"ok"}
[info] ✔  database: rules syntax for database core-app-423c7-default-rtdb is valid 
[info] i  storage: ensuring required API firebasestorage.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:27.885Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:27.885Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:27.885Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [none]
[debug] [2025-04-01T10:14:27.885Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:28.839Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com 200
[debug] [2025-04-01T10:14:28.839Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebasestorage.googleapis.com [omitted]
[info] ✔  storage: required API firebasestorage.googleapis.com is enabled 
[debug] [2025-04-01T10:14:28.840Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:28.840Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:28.840Z] >>> [apiv2][query] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket [none]
[debug] [2025-04-01T10:14:29.249Z] <<< [apiv2][status] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket 200
[debug] [2025-04-01T10:14:29.250Z] <<< [apiv2][body] GET https://firebasestorage.googleapis.com/v1alpha/projects/core-app-423c7/defaultBucket {"name":"projects/core-app-423c7/defaultBucket","location":"US-CENTRAL1","bucket":{"name":"projects/core-app-423c7/buckets/core-app-423c7.firebasestorage.app"},"storageClass":"REGIONAL"}
[info] i  firebase.storage: checking storage.rules for compilation errors... 
[debug] [2025-04-01T10:14:29.253Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:29.253Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:29.253Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-04-01T10:14:29.253Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-04-01T10:14:30.021Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-04-01T10:14:30.021Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {"issues":[{"sourcePosition":{"fileName":"storage.rules","line":26,"column":11,"currentOffset":812,"endOffset":814},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":26,"column":28,"currentOffset":829,"endOffset":836},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":29,"column":11,"currentOffset":975,"endOffset":977},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":29,"column":28,"currentOffset":992,"endOffset":999},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":41,"column":11,"currentOffset":1458,"endOffset":1460},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":41,"column":28,"currentOffset":1475,"endOffset":1482},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":44,"column":11,"currentOffset":1619,"endOffset":1621},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":44,"column":28,"currentOffset":1636,"endOffset":1643},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":54,"column":11,"currentOffset":1980,"endOffset":1982},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":54,"column":28,"currentOffset":1997,"endOffset":2004},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":57,"column":11,"currentOffset":2160,"endOffset":2162},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":57,"column":28,"currentOffset":2177,"endOffset":2184},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":58,"column":11,"currentOffset":2254,"endOffset":2256},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":58,"column":28,"currentOffset":2271,"endOffset":2278},"description":"Invalid variable name: database.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":63,"column":11,"currentOffset":2448,"endOffset":2450},"description":"Invalid function name: get.","severity":"WARNING"},{"sourcePosition":{"fileName":"storage.rules","line":63,"column":28,"currentOffset":2465,"endOffset":2472},"description":"Invalid variable name: database.","severity":"WARNING"}]}
[warn] ⚠  [W] 26:11 - Invalid function name: get. 
[warn] ⚠  [W] 26:28 - Invalid variable name: database. 
[warn] ⚠  [W] 29:11 - Invalid function name: get. 
[warn] ⚠  [W] 29:28 - Invalid variable name: database. 
[warn] ⚠  [W] 41:11 - Invalid function name: get. 
[warn] ⚠  [W] 41:28 - Invalid variable name: database. 
[warn] ⚠  [W] 44:11 - Invalid function name: get. 
[warn] ⚠  [W] 44:28 - Invalid variable name: database. 
[warn] ⚠  [W] 54:11 - Invalid function name: get. 
[warn] ⚠  [W] 54:28 - Invalid variable name: database. 
[warn] ⚠  [W] 57:11 - Invalid function name: get. 
[warn] ⚠  [W] 57:28 - Invalid variable name: database. 
[warn] ⚠  [W] 58:11 - Invalid function name: get. 
[warn] ⚠  [W] 58:28 - Invalid variable name: database. 
[warn] ⚠  [W] 63:11 - Invalid function name: get. 
[warn] ⚠  [W] 63:28 - Invalid variable name: database. 
[info] ✔  firebase.storage: rules file storage.rules compiled successfully 
[info] i  firestore: reading indexes from firestore.indexes.json... 
[info] i  cloud.firestore: checking firestore.rules for compilation errors... 
[debug] [2025-04-01T10:14:30.025Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:30.025Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:30.025Z] >>> [apiv2][query] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [none]
[debug] [2025-04-01T10:14:30.025Z] >>> [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test [omitted]
[debug] [2025-04-01T10:14:30.736Z] <<< [apiv2][status] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test 200
[debug] [2025-04-01T10:14:30.736Z] <<< [apiv2][body] POST https://firebaserules.googleapis.com/v1/projects/core-app-423c7:test {}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully 
[debug] [2025-04-01T10:14:30.738Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:30.738Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:30.738Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 [none]
[debug] [2025-04-01T10:14:31.495Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 200
[debug] [2025-04-01T10:14:31.496Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7 {"projectNumber":"869167769685","projectId":"core-app-423c7","lifecycleState":"ACTIVE","name":"core-app","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-03-23T09:54:58.346881Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:31.497Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [none]
[debug] [2025-04-01T10:14:31.497Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:31.498Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [none]
[debug] [2025-04-01T10:14:31.498Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:31.499Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [none]
[debug] [2025-04-01T10:14:31.500Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:31.501Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [none]
[debug] [2025-04-01T10:14:31.501Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:32.396Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com 200
[debug] [2025-04-01T10:14:32.396Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-04-01T10:14:32.398Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com 200
[debug] [2025-04-01T10:14:32.398Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-04-01T10:14:32.402Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com 200
[debug] [2025-04-01T10:14:32.402Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-04-01T10:14:32.408Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com 200
[debug] [2025-04-01T10:14:32.408Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-04-01T10:14:32.408Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:32.408Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:32.408Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig [none]
[debug] [2025-04-01T10:14:32.803Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig 200
[debug] [2025-04-01T10:14:32.803Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/core-app-423c7/adminSdkConfig {"projectId":"core-app-423c7","databaseURL":"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"core-app-423c7.firebasestorage.app"}
[debug] [2025-04-01T10:14:32.803Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:32.803Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:32.803Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs [none]
[debug] [2025-04-01T10:14:33.077Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs 200
[debug] [2025-04-01T10:14:33.078Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs {"configs":[{"name":"projects/core-app-423c7/configs/email"}]}
[debug] [2025-04-01T10:14:33.078Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.078Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.078Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables [none]
[debug] [2025-04-01T10:14:33.286Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables 200
[debug] [2025-04-01T10:14:33.287Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables {"variables":[{"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z"},{"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z"}]}
[debug] [2025-04-01T10:14:33.287Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.287Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.287Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.287Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:33.287Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user [none]
[debug] [2025-04-01T10:14:33.288Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password [none]
[debug] [2025-04-01T10:14:33.502Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user 200
[debug] [2025-04-01T10:14:33.503Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/user {"name":"projects/core-app-423c7/configs/email/variables/user","updateTime":"2025-03-23T19:18:54.014339774Z","text":"core.transport.app@gmail.com"}
[debug] [2025-04-01T10:14:33.520Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password 200
[debug] [2025-04-01T10:14:33.520Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/core-app-423c7/configs/email/variables/password {"name":"projects/core-app-423c7/configs/email/variables/password","updateTime":"2025-03-23T19:18:53.997899644Z","text":"your-app-specific-password"}
[debug] [2025-04-01T10:14:33.522Z] Validating nodejs source
[debug] [2025-04-01T10:14:33.797Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@mui/x-date-pickers": "^7.28.0",
    "@types/cors": "^2.8.17",
    "cors": "^2.8.5",
    "date-fns": "^4.1.0",
    "firebase-admin": "^11.11.1",
    "firebase-functions": "^6.3.2",
    "nodemailer": "^6.9.9",
    "react-router-dom": "^7.4.0"
  },
  "devDependencies": {
    "@types/nodemailer": "^6.4.17",
    "@types/react": "^19.0.12",
    "@types/react-dom": "^19.0.4",
    "typescript": "^5.3.3"
  },
  "private": true
}
[debug] [2025-04-01T10:14:33.797Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-04-01T10:14:33.798Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-04-01T10:14:33.801Z] Found firebase-functions binary at '/Users/macbookm3pro/Documents/GitHub/core/transport-platform/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8600

[debug] [2025-04-01T10:14:33.925Z] Got response from /__/functions.yaml {"endpoints":{"clearDatabase":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"clearDatabase"},"sendInvitationEmail":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"sendInvitationEmail"},"checkBusinessCaseReminders":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkBusinessCaseReminders"},"checkTransportNotifications":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"checkTransportNotifications"},"logFunctionMetrics":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"scheduleTrigger":{"schedule":"every 1 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"Europe/Bratislava"},"labels":{},"entryPoint":"logFunctionMetrics"},"updateExistingRecords":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"updateExistingRecords"},"initializeLastLogin":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"region":["europe-west1"],"callableTrigger":{},"entryPoint":"initializeLastLogin"},"updateVehicleLocation":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"updateVehicleLocation"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:37.942Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:37.942Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:37.942Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [none]
[debug] [2025-04-01T10:14:37.942Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:38.839Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com 200
[debug] [2025-04-01T10:14:38.839Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2025-04-01T10:14:38.840Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-04-01T10:14:38.840Z] > authorizing via signed-in user (webpostup@gmail.com)
[debug] [2025-04-01T10:14:38.840Z] [iam] checking project core-app-423c7 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-04-01T10:14:38.840Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:38.840Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:38.840Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions [none]
[debug] [2025-04-01T10:14:38.840Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:38.840Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-01T10:14:39.558Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions 200
[debug] [2025-04-01T10:14:39.558Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/core-app-423c7:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-04-01T10:14:39.558Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:39.558Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:39.559Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances pageSize=100&pageToken=
[debug] [2025-04-01T10:14:40.568Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances 200
[debug] [2025-04-01T10:14:40.568Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/core-app-423c7/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/macbookm3pro/Documents/GitHub/core/transport-platform/functions (60.72 KB) for uploading 
[info] i  functions: packaged /Users/macbookm3pro/Documents/GitHub/core/transport-platform/functions (61.03 KB) for uploading 
[debug] [2025-04-01T10:14:40.609Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:40.610Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:40.610Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions [none]
[debug] [2025-04-01T10:14:41.238Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-04-01T10:14:41.238Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/core-app-423c7/locations/-/functions {"functions":[{"name":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/initializeLastLogin","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"initializeLastLogin","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T10:02:08.032593865Z","versionId":"1","labels":{"deployment-callable":"true","firebase-functions-hash":"f6421dbfbc8a2d488afb54a2378f129053c0812c","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/9b442765-0f86-4a91-908f-23b550a72d94.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/initializeLastLogin"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"813a1a18-05eb-40e3-a6d2-715f09db6beb","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/813a1a18-05eb-40e3-a6d2-715f09db6beb","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/clearDatabase","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"clearDatabase","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:36.698Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/clearDatabase"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/sendInvitationEmail","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendInvitationEmail","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:36.901Z","versionId":"19","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/sendInvitationEmail"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords","httpsTrigger":{"url":"https://europe-west1-core-app-423c7.cloudfunctions.net/updateExistingRecords","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"updateExistingRecords","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:40.049Z","versionId":"18","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/updateExistingRecords"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkBusinessCaseReminders-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkBusinessCaseReminders","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:37.144Z","versionId":"40","labels":{"firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkBusinessCaseReminders"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-logFunctionMetrics-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"logFunctionMetrics","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:37.245Z","versionId":"38","labels":{"firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029","deployment-tool":"cli-firebase","deployment-scheduled":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/logFunctionMetrics"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"},{"name":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/core-app-423c7/topics/firebase-schedule-checkTransportNotifications-europe-west1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"checkTransportNotifications","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"core-app-423c7@appspot.gserviceaccount.com","updateTime":"2025-04-01T09:40:38.374Z","versionId":"38","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"afe1072e492e5f3862b3765ad90c9c1551c27029"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-176395417328.europe-west1.cloudfunctions.appspot.com/92bd6cb2-50b1-4e45-854c-8ee50100aed5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/europe-west1/functions/checkTransportNotifications"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/869167769685/locations/europe-west1/builds/6d1fc5d1-5b08-40c5-9f43-eb980bf8bd53","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com"}]}
[debug] [2025-04-01T10:14:41.239Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:41.239Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:41.240Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-04-01T10:14:42.251Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions 200
[debug] [2025-04-01T10:14:42.251Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/core-app-423c7/locations/-/functions {"functions":[{"name":"projects/core-app-423c7/locations/us-central1/functions/updateVehicleLocation","buildConfig":{"build":"projects/869167769685/locations/us-central1/builds/7dc66943-d56e-4d9e-98b9-c3b877e2200b","runtime":"nodejs20","entryPoint":"updateVehicleLocation","source":{"storageSource":{"bucket":"gcf-v2-sources-869167769685-us-central1","object":"updateVehicleLocation/function-source.zip","generation":"1743500355024270"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/core-app-423c7/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-869167769685-us-central1","object":"updateVehicleLocation/function-source.zip","generation":"1743500355024270"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/core-app-423c7/serviceAccounts/869167769685-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/core-app-423c7/locations/us-central1/services/updatevehiclelocation","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"core-app-423c7\",\"databaseURL\":\"https://core-app-423c7-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"core-app-423c7.firebasestorage.app\"}","GCLOUD_PROJECT":"core-app-423c7","EVENTARC_CLOUD_EVENT_SOURCE":"projects/core-app-423c7/locations/us-central1/services/updateVehicleLocation","FUNCTION_TARGET":"updateVehicleLocation","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://updatevehiclelocation-2zo7jyvr5q-uc.a.run.app","serviceAccountEmail":"869167769685-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"updatevehiclelocation-00002-jax","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"ACTIVE","updateTime":"2025-04-01T09:40:39.855260811Z","labels":{"firebase-functions-hash":"67f59617a79ae2968f5a0870182a4a55fa4c1164","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-core-app-423c7.cloudfunctions.net/updateVehicleLocation","createTime":"2025-03-28T20:57:28.977509349Z","satisfiesPzi":true}]}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:42.254Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:42.254Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:42.254Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com [none]
[debug] [2025-04-01T10:14:42.254Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:43.108Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com 200
[debug] [2025-04-01T10:14:43.108Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:43.109Z] Checked if tokens are valid: true, expires at: 1743504519392
[debug] [2025-04-01T10:14:43.109Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/run.googleapis.com [none]
[debug] [2025-04-01T10:14:43.109Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/run.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:43.110Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/eventarc.googleapis.com [none]
[debug] [2025-04-01T10:14:43.110Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/eventarc.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:43.111Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/pubsub.googleapis.com [none]
[debug] [2025-04-01T10:14:43.111Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/pubsub.googleapis.com x-goog-quota-user=projects/core-app-423c7
[debug] [2025-04-01T10:14:43.112Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/storage.googleapis.com [none]
[debug] [2025-04-01T10:14:43.112Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/core-app-423c7/services/storage.googleapis.com x-goog-quota-user=projects/core-app-423c7
